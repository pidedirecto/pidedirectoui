import { Canvas, Meta, ArgTypes, Story } from '@storybook/blocks';

import * as MultiselectableAutocompleteStories from '../../stories/MultiselectableAutocomplete.stories';

<Meta of={MultiselectableAutocompleteStories} />

# MultiselectableAutocomplete

Renders a MultiselectableAutocomplete

<Canvas of={MultiselectableAutocompleteStories.Controlled} />

The MultiselectableAutocomplete component needs several options, each option is an object of any type, it will access its values through the function provided in getValue and getLabel, make sure the values are unique.

The getValue and getLabel functions will be like this:

In this example array:
```
const orders = [
    { orderId: '', orderStatus: '',} ....
]
```
The getValue and getLabel functions will be like this:
`getOptionValue={(option) => option.orderId} getOptionLabel={(option) => option.orderStatus}`

```tsx
import { MultiselectableAutocomplete } from '@pidedirecto/ui'

 const [selectedItems, setSelectedItems] = useState<Array<string>>([]);

    const itemsFiltered = [
        { value: 'value1', label: 'Example 1' },
        { value: 'value2', label: 'Example 2' },
        { value: 'value3', label: 'Example 3' },
        { value: 'value4', label: 'Example 4' },
        { value: 'value5', label: 'Example 5' },
        { value: 'value6', label: 'Example 6' },
        { value: 'value7', label: 'Example 7' },
        { value: 'value8', label: 'Example 8' },
        { value: 'value9', label: 'Example 9' ,restaurantName:'popeye'},
    ];

    const handleChange = (itemsId: Array<string>) => {
        setSelectedItems(itemsId)
    };

    return (
        <MultiselectableAutocomplete
            name={'example'}
            selectAllOption
            selectAllOptionLabel={'seleccionar todos'}
            productsSelectedLabel={`${selectedItems.length} productos seleccionados`}
            data={itemsFiltered}
            getOptionValue={(option) => option.value}
            getOptionLabel={(option) => option.label}
            renderOption={(option) => (
                <div
                    style={{
                        display: 'flex',
                        flexDirection: 'row',
                        alignItems: 'center',
                        justifyContent: 'space-between',
                        padding: '8px 4px',
                        gap:'12px'
                    }}
                >
                    <p>{option.label}</p>
                    <HelperText>{option?.restaurantName}</HelperText>
                </div>
            )
            }
            onChange={(itemIds: any) => handleChange(itemIds)}
            selectedItems={selectedItems}
        />
    );

```
## MultiselectableAutocomplete variant

Renders a MultiselectableAutocomplete detailed variant

When you send the 'detailed' attribute, a container is rendered with the selected options, each with the ability to be deleted without having to open the multiselectable

<Canvas of={MultiselectableAutocompleteStories.ControlledVariant} />

```tsx
import { MultiselectableAutocomplete } from '@pidedirecto/ui'

 const [selectedItems, setSelectedItems] = useState<Array<string>>([]);

    const itemsFiltered = [
        { value: 'value1', label: 'Example 1' },
        { value: 'value2', label: 'Example 2' },
        { value: 'value3', label: 'Example 3' },
        { value: 'value4', label: 'Example 4' },
        { value: 'value5', label: 'Example 5' },
        { value: 'value6', label: 'Example 6' },
        { value: 'value7', label: 'Example 7' },
        { value: 'value8', label: 'Example 8' },
        { value: 'value9', label: 'Example 9' ,restaurantName:'popeye'},
    ];

    const handleChange = (itemsId: Array<string>) => {
        setSelectedItems(itemsId)
    };

    return (
        <MultiselectableAutocomplete
            name={'example'}
            selectAllOption
            selectAllOptionLabel={'seleccionar todos'}
            productsSelectedLabel={`${selectedItems.length} productos seleccionados`}
            data={itemsFiltered}
            getOptionValue={(option) => option.value}
            getOptionLabel={(option) => option.label}
            renderOption={(option) => (
                <div
                    style={{
                        display: 'flex',
                        flexDirection: 'row',
                        alignItems: 'center',
                        justifyContent: 'space-between',
                        padding: '8px 4px',
                        gap:'12px'
                    }}
                >
                    <p>{option.label}</p>
                    <HelperText>{option?.restaurantName}</HelperText>
                </div>
            )
            }
            onChange={(itemIds: any) => handleChange(itemIds)}
            selectedItems={selectedItems}
            variant={'detailed'}
        />
    );

```

## API

<ArgTypes of={MultiselectableAutocompleteStories} />
